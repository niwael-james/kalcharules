"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[43506],{829196:(e,t,i)=>{i.d(t,{YS:()=>o,eF:()=>l,m_:()=>r});var a=i(431705),n=i(194093),s=i(415787);function r(e,t,i,n,r){let o=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(a){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);o.append(a.NR.SOURCE_EVENT_ID,e??"0"),o.append(a.NR.DESTINATION,JSON.stringify([...l])),o.append(a.NR.EXPIRY,i?a.uV:a.ug),o.append(a.NR.PRIORITY,i?a.NR.CLICK_PRIORITY:a.NR.VIEW_PRIORITY),r&&o.append(a.NR.ADVERTISER_ID,r),n&&o.append(a.NR.CAMPAIGN_ID,n),o.append(a.NR.SOURCE_EVENT_TYPE,i?a.bC:a.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(a.NR.HOSTNAME,e)}catch(e){(0,s.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}async function o(e,t,i,a,o,l,d,c,u){let p;let{appType:h,osType:_}=l||{},g="",m="";if(["Pin","pinImpressions"].includes(e)&&t&&(a||c||u)){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:h,osType:_}});try{if(!window.document.featurePolicy?.allowsFeature("attribution-reporting")){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:h,osType:_}});return}g=r(i,[a,c,u],!1,o,d);try{m=new URL(window.location.href).hostname}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(m&&"www.pinterest.com"!==m)document.createElement("img").setAttribute("attributionsrc",g),(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:h,osType:_,hostname:m}});else if(!(p=await window.fetch(g,{keepalive:!0,attributionReporting:{eventSourceEligible:!0,triggerEligible:!1}})).ok)throw Error("server request failed.");(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:h,osType:_}})}catch(e){(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,n.Z)(e,"name"),message:(0,n.Z)(e,"message"),appType:h,osType:_,hostname:m,responseStatus:p&&p.status}})}}else(0,s.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:h,osType:_}})}function l(e){if(e){let t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},845873:(e,t,i)=>{i.d(t,{bn:()=>o,fJ:()=>d,gC:()=>l});var a=i(545007),n=i(498490),s=i(785893);let{Provider:r,useHook:o}=(0,n.Z)("Boards");function l(){let e=o();return t=>e[t]}function d({children:e}){let t=(0,a.v9)(({boards:e})=>e,a.wU);return(0,s.jsx)(r,{value:t,children:e})}},141648:(e,t,i)=>{i.d(t,{default:()=>w});var a=i(667294),n=i(782677),s=i(883119),r=i(252071),o=i(801925),l=i(144326),d=i(240760),c=i(338623),u=i(127566),p=i(765211),h=i(571729),_=i(785893);let g=e=>({duration:5e3,thumbnail:(0,_.jsx)(s.xu,{"data-test-id":"pin-save-toast",height:48,width:48,children:(0,_.jsx)(h.Z,{boardId:e})})});var m=i(476198),b=i(383399);function f({boardId:e,hideToast:t,pinId:i,originalPinId:a}){let n=(0,l.ZP)(),r=(0,b.Z)();return(0,_.jsx)(m.Z,{duration:5e3,onHide:t,primaryAction:{accessibilityLabel:n._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${i}/repin/?isEditingPin=true&pinBoardId=${e??""}&&isFromToast=true&&originalPinId=${a??""}`,label:n._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t,role:"link"},text:(0,_.jsxs)(s.xv,{children:[(0,_.jsx)(s.xv,{inline:!0,children:n._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,_.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(s.rU,{display:"inlineBlock",href:r.isAuth?`/${r.username}/_saved`:"/",target:"self",underline:"hover",children:n._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,_.jsx)(s.JO,{accessibilityLabel:n._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var P=i(612719),y=i(517989);let I="RepinResource",v=({board:e,section:t})=>{let i=(0,l.ZP)(),n="quick_saves"===e.layout?i._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(i._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(s.xv,{color:"default",children:i._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,_.jsx)(s.xv,{color:"default",weight:"bold",children:n})]})};class w{constructor({boardId:e,dispatch:t,history:i,isOneTapSave:a=!1,isQuickSave:s=!1,onSuccess:r,originalPinId:o,pinId:l,section:d,showNewUserSavetoProfileAnimation:c=!1,showRepinToasts:p,trackingParams:h,userId:_,viewParameter:g,viewType:m,historyPush:b,suggestedBoardIds:f,savePinId:P,eventContext:v=null,pinData:{trackingParams:w,viewParameter:S,pinnedToBoardId:x}}){var E,R,T;E="_getNormalizedResponse",R=e=>(0,n.Fv)(e.resource_response.data,y.Z[I]),(E="symbol"==typeof(T=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(E,"string"))?T:T+"")in this?Object.defineProperty(this,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):this[E]=R,this.boardId=e,this.trackingParams=h,this.clientTrackingParams=(0,u.Z)(h.clientTrackingParams||"",w),this.dispatch=t,this.history=i,this.onSuccess=r,this.originalPinId=o,this.pinId=l,this.pinnedToBoardId=h.pinnedToBoardId||(x??""),this.showNewUserSavetoProfileAnimation=c,this.showRepinToasts=p,this.section=d,this.isOneTapSave=a,this.isQuickSave=s,this.userId=_,this.viewParameter=g,this.viewType=m??3,this.historyPush=b,this.suggestedBoardIds=f,this.savePinId=P,this.pinViewParameter=S,this.eventContext=v}get resourceOptions(){return{pin_id:this.pinId,board_id:this.boardId,section:this.section?.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){let e=4079===this.viewParameter;return{event_type:5,element:this.isOneTapSave?e?15946:10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?e?4079:3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){let e=null!==this.eventContext&&void 0!==this.eventContext?{...this.resourceOptions,eventContext:this.eventContext}:this.resourceOptions;return r.Z.create(I,{...e,disable_event_log_info:!0}).callCreate()}processRepin(e){return this._createRepin().then(t=>{this.onSuccess&&this.onSuccess();let i=t.resource_response.data,{board:a}=i,{isQuickSave:n,originalPinId:r,showNewUserSavetoProfileAnimation:d}=this,u=this._getNormalizedResponse(t);if(this.dispatch((0,c.XM)(I,this.resourceOptions,t,u)),this.savePinId(this.resourceOptions.pin_id,i.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){let e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(I,e,t,u)),this.savePinId(this.originalPinId||"",i.id)}this.dispatch((0,P.M)(i.id,a.id,this.section?this.section.id:void 0,this.userId));let{showRepinToasts:h}=this;return h&&h(({hideToast:e})=>{if(n&&!d)return(0,_.jsx)(f,{boardId:i.board.id,hideToast:e,originalPinId:r,pinId:i.id});let{thumbnail:t}=g(a.id);return(0,_.jsx)(p.Z,{button:d&&(0,_.jsx)(l.oz,{children:e=>(0,_.jsx)(s.zx,{fullWidth:!0,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),this.historyPush(`/pin/${i.id}/repin/?isEditingPin=true&pinBoardId=${a.id}&&isFromToast=true&&originalPinId=${r??""}`)},text:e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins')})}),href:this.section?`${a.url}${this.section.slug??""}`:a.url,isRepinToExistingBoard:!0,onHide:e,text:(0,_.jsx)(v,{board:a,section:this.section}),thumbnail:t})}),this.dispatch((0,o.fO)({event_type:5,pin_id:this.originalPinId||this.pinId,new_pin_id:i.id,did_repin:!0})),e(this.trackingData),i})}}},243583:(e,t,i)=>{i.d(t,{Yg:()=>l,ib:()=>c,nF:()=>p,xX:()=>u});var a=i(297728),n=i(730212),s=i(410150),r=i(415787);let o=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},l=()=>{let{isAuthenticated:e}=(0,n.B)(),t=(0,s.HG)(),{checkExperiment:i}=(0,a.F)();return e&&!t?o({checkExperiment:i}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=o({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function u({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,a.F)(),t=(0,s.HG)(),{isAuthenticated:i}=(0,n.B)();return u({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},578406:(e,t,i)=>{i.d(t,{N4:()=>s,Wh:()=>a,hr:()=>n});let a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},70339:(e,t,i)=>{i.d(t,{Du:()=>x,HY:()=>S,Hn:()=>u,Jw:()=>b,L7:()=>a,Q_:()=>y,Qc:()=>n,Tt:()=>v,UF:()=>d,UV:()=>r,W1:()=>s,Ws:()=>p,ZW:()=>l,cK:()=>f,cy:()=>m,g5:()=>I,k:()=>_,o4:()=>h,oL:()=>E,pK:()=>w,tr:()=>c,uD:()=>P,uO:()=>g,vF:()=>o});let a=1,n=2,s="female",r="male",o="unspecified",l="en-US",d="US",c=3,u="has_done_closeup",p="Gender",h="InterestPicker",_="UseCase",g="PinPicker",m="LoadingStep",b="AppInstall",f={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_USE_CASE_STEP_NAME:_,NUX_PIN_PICKER_STEP_NAME:g,NUX_LOADING_STEP_NAME:m,NUX_APP_INSTALL_STEP_NAME:b},P=2,y=6,I=112,v=2500,w=3,S=3,x=5e3,E=250},765211:(e,t,i)=>{i.d(t,{Z:()=>x});var a=i(667294),n=i(376030),s=i(883119),r=i(144326),o=i(272109),l=i(969119),d=i(512541),c=i(785893);let u=`
@keyframes baseEduToastIconScale {
  0% {
    transform: scale(0)
  }
  30% {
    transform: scale(1.2);
  }
  50% {
    transform: scale(1);
  }
}
`;function p({addedStyles:e,button:t,headerText:i,icon:n,iconOverride:r,minHeight:o,subHeaderText:l}){return(0,c.jsx)(s.xu,{display:"flex",justifyContent:"center",paddingX:2,width:"100vw",children:(0,c.jsxs)(s.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:o||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{let e=r||(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:u}),(0,c.jsx)(s.xu,{alignItems:"center",color:"education",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},"data-test-id":"pin-save-toast",direction:"column",display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(s.JO,{accessibilityLabel:n.accessibilityLabel,color:n.color,dangerouslySetSvgPath:n.dangerouslySetSvgPath,icon:n.icon,inline:n.inline,size:n.size})})]});return(0,c.jsx)(s.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(s.xu,{"data-test-id":"pin-save-toast-header",marginEnd:"auto",children:[(0,c.jsx)(s.xv,{color:"default",weight:"bold",children:i}),!!l&&(0,c.jsx)(s.xu,{paddingY:1,children:(0,c.jsx)(s.xv,{color:"default",size:"300",children:l})})]}),(0,c.jsx)(s.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var h=i(575250);function _(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let g="cubicBezier(0.25, 0.1, 0.25, 1)",m="encourageToastIconContainer",b="encourageToastIconRadiateBg",f="encourageToastIconRadiateRing",P={targets:`#${m}`,duration:300,scale:1.4,easing:g},y={targets:`#${m}`,duration:300,scale:1,easing:g,endDelay:1e3},I={targets:`#${m}`,duration:300,scale:.42,easing:g},v={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:g},w={targets:`#${f}`,duration:650,opacity:0,scale:2,easing:g};class S extends a.PureComponent{constructor(...e){super(...e),_(this,"delayTimer",null),_(this,"requestAnimationFrameId",null),_(this,"playAnimation",()=>{this.requestAnimationFrameId=window.requestAnimationFrame(()=>{(0,n.Z)(v),(0,n.Z)(w),(0,n.Z)(P).finished.then(()=>{(0,n.Z)(y).finished.then(()=>{n.Z.set(`#${m}`,{transformOrigin:"top right"}),(0,n.Z)(I)})})})}),_(this,"getHeaderText",()=>{let{text:e}=this.props;return Array.isArray(e)?e[0]:e}),_(this,"getIconProps",()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})),_(this,"getSubHeaderText",()=>{let{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""}),_(this,"renderAnimatedIcon",()=>(0,c.jsxs)(s.xu,{height:68,position:"relative",width:68,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{left:"4px",top:"4px"}},"data-test-id":"pin-save-toast",height:60,overflow:"hidden",position:"absolute",rounding:4,width:60,children:this.props.thumbnail}),(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},height:68,id:m,position:"absolute",width:68,children:[(0,c.jsx)(s.xu,{color:"infoBase",dangerouslySetInlineStyle:{__style:{left:"0px",top:"0px",transform:"scale(0)"}},height:68,id:b,position:"absolute",rounding:"circle",width:68}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"1px",top:"1px",transform:"scale(0)"}},height:66,id:f,opacity:1,position:"absolute",rounding:"circle",width:66}),(0,c.jsx)(s.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,c.jsx)(s.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]}))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){let{isRepinToExistingBoard:e,button:t}=this.props;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:e?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function x(e){let{duration:t,onHide:i}=e,n=(0,r.ZP)(),[d,u]=(0,a.useState)(!1),[p,_]=(0,a.useState)(!1),g=(0,a.useRef)(),m=()=>{u(!0),g.current=setTimeout(i,200)},b=()=>{g.current&&clearTimeout(g.current)},f=()=>{g.current=setTimeout(m,t||h.w)};(0,l.Z)(()=>(setTimeout(()=>_(!0),100),f(),b));let P=(0,c.jsx)(S,{...e,i18n:n});return e.href&&(P=(0,c.jsx)(s.rU,{href:e.href,onClick:m,rounding:"pill",tapStyle:"none",children:P})),(0,c.jsx)(o.Z,{children:(0,c.jsx)(s.mh,{children:(0,c.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...function({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}({hiding:d,visible:p})}},display:"flex",justifyContent:"center",position:"fixed",width:"100%",zIndex:h.k,children:P})})})}},677035:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(545007),n=i(901450),s=i(70339),r=i(335108);function o(){let e=(0,a.I0)(),{showToast:t,showOneToast:i}=(0,n.F9)();return{showToast:t,showOneToast:i,showRepinConfirmation:(i,a)=>{a||e((0,r.WF)()),setTimeout(()=>{a||e((0,r.a5)()),t(i)},s.Tt)}}}},612719:(e,t,i)=>{i.d(t,{M:()=>o,i:()=>d});var a=i(782677),n=i(252071),s=i(338623),r=i(517989);let o=(e,t,i,a)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:i,pinnerId:a}}),l=e=>async t=>{let{boardId:i,guid:l,imageBase64:d,imageUrl:c,method:u,sectionId:p}=e,h={...e,board_id:i,method:"button"!==u||l?u:"button_external",image_url:c,image_base64:d,section:p},_="PinResource",g=await n.Z.create(_,h).callCreate(),m=(0,a.Fv)(g.resource_response.data,r.Z[_]);t((0,s.XM)(_,h,g,m));let b=g.resource_response.data,{pinner:{id:f}}=b;return t(o(b.id,i,p,f)),g},d=e=>async t=>{let{imageBase64:i,imageUrl:a}=e;return await t(l({...e,imageUrl:a,imageBase64:i}))}},719535:(e,t,i)=>{i.d(t,{L:()=>o,q:()=>d});var a=i(252071),n=i(119437),s=i(701842),r=i(403764);function o(e){return t=>{let{inSelectAll:i,selectedPinIds:o,orbacSubjectId:l,source:{boardId:d,sectionId:c}}=e;return t((0,n.xQ)(d)),t((0,s.EX)({feedId:c||d,feedType:c?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,inverseSelection:i,itemIds:o,itemType:"pin"})),a.Z.create(i?"BulkEditSelectAllResource":"BulkEditResource",{board_id:d,section_id:c,pin_ids:o,orbac_subject_id:l}).callDelete()}}let l=(e,t,i,a)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:a}}),d=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:n})=>(s,r)=>{let o=a.Z.create("PinResource",{id:e,client_tracking_params:n}).callDelete(),{session:{userId:d}}=r();return s(l(e,t,i,d)),o}},369114:(e,t,i)=>{i.d(t,{w:()=>r});var a=i(243583),n=i(141648),s=i(963509);let r=({pinId:e,boardId:t,checkExperiment:i,i18n:r,isQuickSave:o,logContextEvent:l,onSuccess:d,originalPinId:c,showNewUserSavetoProfileAnimation:u,showRepinConfirmation:p,showToast:h,section:_,trackingParams:g,isOneTapSave:m,viewParameter:b,viewType:f,historyPush:P,suggestedBoardIds:y,savePinId:I})=>(v,w)=>{let{pins:S,session:x}=w(),E=S[e],R=new n.default({boardId:t,dispatch:v,i18n:r,isOneTapSave:m,isQuickSave:o,onSuccess:d,originalPinId:c,pinId:E.id,section:_,showNewUserSavetoProfileAnimation:u,showRepinToasts:e=>p?p(e):h?h(e):void 0,trackingParams:g,userId:x.userId,viewParameter:b,viewType:f,historyPush:P,suggestedBoardIds:y,savePinId:I,pinData:{trackingParams:E.tracking_params,viewParameter:(0,s.A)({hasRichMetadata:!!E.rich_metadata,hasRichMetadataProducts:!!E.rich_metadata?.products,hasRichMetadataArticle:!!E.rich_metadata?.article,hasRichMetadataRecipe:!!E.rich_metadata?.recipe}),pinnedToBoardId:E.pinned_to_board?.id}});return(0,a.ib)({checkExperiment:i,isAuthMweb:x.isAuthenticated&&(x.isMobile||x.isTablet)}),R.processRepin(l)}},335108:(e,t,i)=>{i.d(t,{Cp:()=>d,FK:()=>l,H5:()=>y,MI:()=>g,O0:()=>_,QZ:()=>o,W:()=>f,WF:()=>u,Wz:()=>I,a5:()=>p,dz:()=>b,e0:()=>h,e2:()=>r,iW:()=>P,n1:()=>s,rm:()=>c,xu:()=>m});var a=i(282999),n=i(812477);let s=()=>({type:"DISMISS_UNAUTH_SAVE"}),r=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),o=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),l=()=>({type:"HIDE_NAV_FOOTER"}),d=()=>({type:"SHOW_NAV_FOOTER"}),c=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),u=()=>({type:"SHOW_REPIN_ANIMATION"}),p=()=>({type:"HIDE_REPIN_ANIMATION"}),h=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),_=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),g=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),m=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),b=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),f=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),P=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},y=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),I=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,a.bo)(e)?"today":(0,a.dr)(e)?"ideas":t&&(0,a.dZ)(e,t)?"own_section":t&&(0,a.J)(e,t)?"own_board":(0,a.OJ)(e)?"section":(0,a.am)(e)?"board":(0,a.L6)(e)?"closeup":(0,a.C$)(e)?"home":(0,n.Z)(e)?"profile":(0,a.En)(e)?"search":(0,a.$V)(e)?"topic":"":""})},963509:(e,t,i)=>{i.d(t,{A:()=>a});let a=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:a})=>e?t?144:i?141:a?145:139:140},479825:(e,t,i)=>{i.d(t,{M:()=>o,Q:()=>l});var a=i(667294),n=i(498490),s=i(785893);let{Provider:r,useMaybeHook:o}=(0,n.Z)("RepinContext");function l({children:e}){let[t,i]=(0,a.useState)(Object.freeze({})),n=(0,a.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>i(i=>({...i,[e]:t})),unsave:e=>i(t=>({...t,[e]:null}))}),[t]);return(0,s.jsx)(r,{value:n,children:e})}},571729:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(883119),n=i(845873),s=i(785893);function r({boardId:e}){let t=(0,n.gC)()(e),i=t?.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&i?(0,s.jsx)(a.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:i.url??""}):null}},575250:(e,t,i)=>{i.d(t,{k:()=>r,w:()=>s});var a=i(883119),n=i(265691);let s=2e3,r=new a.H3([n.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/43506-f23d12c65fda6f2b.mjs.map