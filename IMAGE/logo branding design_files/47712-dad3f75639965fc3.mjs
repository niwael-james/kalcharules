"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[47712],{17314:(e,t,a)=>{a.d(t,{Z:()=>s});var r,o,n=a(813653),l=a(861470),d=0,i=0;let s=function(e,t,a){var s=t&&a||0,_=t||Array(16),u=(e=e||{}).node||r,m=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==m){var g=e.random||(e.rng||n.Z)();null==u&&(u=r=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==m&&(m=o=(g[6]<<8|g[7])&16383)}var c=void 0!==e.msecs?e.msecs:Date.now(),E=void 0!==e.nsecs?e.nsecs:i+1,p=c-d+(E-i)/1e4;if(p<0&&void 0===e.clockseq&&(m=m+1&16383),(p<0||c>d)&&void 0===e.nsecs&&(E=0),E>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,i=E,o=m;var T=((268435455&(c+=122192928e5))*1e4+E)%4294967296;_[s++]=T>>>24&255,_[s++]=T>>>16&255,_[s++]=T>>>8&255,_[s++]=255&T;var f=c/4294967296*1e4&268435455;_[s++]=f>>>8&255,_[s++]=255&f,_[s++]=f>>>24&15|16,_[s++]=f>>>16&255,_[s++]=m>>>8|128,_[s++]=255&m;for(var y=0;y<6;++y)_[s+y]=u[y];return t||(0,l.Z)(_)}},616949:(e,t,a)=>{a.d(t,{Z:()=>d,h:()=>l});var r=a(172045),o=a(17314);function n(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let l="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),d=class{constructor(e){n(this,"start",()=>(this.startTime=l(),this.startTime)),n(this,"end",()=>(this.endTime=l(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},576359:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(667294);function o(e,t){let a=(0,r.useRef)([]),[o,n]=(0,r.useState)(),[l,d]=(0,r.useReducer)(o??(()=>t),t),i=(0,r.useCallback)(t=>{o?d(t):(a.current.length||e().then(e=>{n(()=>e.default)}),a.current=[...a.current,t])},[e,o]);return(0,r.useEffect)(()=>{o&&(a.current.forEach(d),a.current=[])},[o]),[l,i]}},625987:(e,t,a)=>{a.d(t,{pb:()=>y,nf:()=>A,lV:()=>C});var r=a(667294),o=a(545007),n=a(441143),l=a.n(n),d=a(252071),i=a(498490),s=a(400416),_=a(465848),u=a(785220),m=a(972147);let g={feature_map:Object.freeze({})},c=(e,t)=>{let a={...(0,m.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,a)?e:a},E=(e=g,t)=>{if("FETCH_COMPLETE"===t.type){let{payload:{resource:a}}=t,{data:r}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===a||"AggregatedCommentReplyFeedResource"===a||"DidItCommentsResource"===a){let t=(r||[]).reduce((t,a)=>(t[a.id]=c(e[a.id],a),t),{});return{...e,...t}}if("UnifiedCommentsResource"===a&&r&&r.length>0){let t=r.filter(e=>"aggregatedcomment"===e.type).reduce((t,a)=>(t[a.id]=c(e[a.id],a),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===a&&r&&r.length>0){let t=r[0].aggregated_comment,a=t?{[t.id]:c(e[t.id],t)}:{},o=r[0].creator_reply,n=o?{[o.id]:c(e[o.id],o)}:{};return{...e,...a,...n}}if("AggregatedCommentFeaturesResource"===a&&r&&Object.keys(r).length>0)return{...e,feature_map:r}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:a}}=t;return a.id?{...e,[a.id]:a}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:a}}=t,r={...e};return delete r[a],r}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:a}}=t;return Object.fromEntries(Object.entries(e).filter(e=>e[1].user?.id!==a))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:a}}=t;return{...e,[a.id]:c(e[a.id],a)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:a}}=t,r=e[a.id],o=r.reaction_counts[1]||0,n={1:a.reaction_by_me?o+1:o-1},l={...r,reaction_by_me:a.reaction_by_me,reaction_counts:n};return{...e,[a.id]:l}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:a}}=t,r=e[a.id],o=r.helpful_count||0,n=a.marked_helpful_by_me?o+1:o-1,l={...r,marked_helpful_by_me:a.marked_helpful_by_me,helpful_count:n};return{...e,[a.id]:l}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:a}}=t,r={...e[a.aggregated_comment_id],highlighted_by_pin_owner:a.is_highlighted};return{...e,[a.aggregated_comment_id]:r}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:a}}}=t;return{...e,feature_map:{...e.feature_map,...a}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:a,id:r}}=t,o=e[r];if(!o)return e;let n={...o,comment_count:o.comment_count+a};return{...e,[r]:n}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:a,tagged_users:r}}=t,o={...e[a],tagged_users:r};return{...e,[a]:o}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:a,translatedText:r}}=t,o={...e[a],translatedText:r};return{...e,[a]:o}}return e};var p=a(785893);let{Provider:T,useHook:f}=(0,i.Z)("AggregatedComments");function y({children:e}){let t=(0,o.v9)(({resources:e})=>e?.UnifiedCommentsResource),a=g;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),r=t?.reduce((e,t)=>(e[t.id]=c(a[t.id],t),e),{});a={...a,...r}});let[n,l]=(0,r.useReducer)(E,a),d=e=>{l({type:"FETCH_COMPLETE",payload:e})};(0,_.Z8)("AggregatedCommentFeaturesResource",d),(0,_.my)("AggregatedCommentFeaturesResource",d),(0,_.Z8)("AggregatedCommentFeedResource",d),(0,_.my)("AggregatedCommentFeedResource",d),(0,_.Z8)("AggregatedCommentReplyFeedResource",d),(0,_.my)("AggregatedCommentReplyFeedResource",d),(0,_.Z8)("DidItCommentsResource",d),(0,_.my)("DidItCommentsResource",d),(0,_.Z8)("UnifiedCommentsPreviewResource",d),(0,_.my)("UnifiedCommentsPreviewResource",d),(0,_.Z8)("UnifiedCommentsResource",d),(0,_.my)("UnifiedCommentsResource",d);let i=(0,r.useMemo)(()=>({aggregatedComments:n,dispatch:l}),[n,l]);return(0,p.jsx)(T,{value:i,children:e})}function A(){let{dispatch:e}=f();return(0,r.useMemo)(()=>({aggregatedCommentCreated(t,a){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:a}})},aggregatedCommentDeleted:(t,a)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:a}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:a})=>(0,s.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:a}}),deleteCommentMention:async t=>{let{resource_response:a}=await (0,s.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),r=a.data??{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:r.id,tagged_users:r.tagged_users}})},translateAggregatedComment:async t=>{try{let{resource_response:a}=await (0,s.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),r=a.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:r}})}catch(a){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:a,orbacSubjectId:r})=>{(0,s.Z)({url:`/v3/helpful/1/${t}/`,method:a?"DELETE":"POST",data:r?{orbac_subject_id:r}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!a}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:a,isHighlighted:r})=>{l()(t,"Could not find comment"),l()(a,"Could not find Pin"),await (0,s.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:a,highlight:!r}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:a,is_highlighted:!r}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:a,orbacSubjectId:r})=>{(0,s.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:a?"DELETE":"POST",data:{reaction_type:1,...r?{orbac_subject_id:r}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:a?0:1}}})},updateAggregatedComment:async({commentId:t,force:a,orbacSubjectId:r,tags:o,text:n})=>{let{resource_response:l}=await d.Z.create("AggregatedCommentResource",{commentId:t,force:a,tags:o,text:n,...r?{orbacSubjectId:r}:{}}).callUpdate({showError:!1}),{tagged_users:i}=l.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:i.map(e=>({...e})),tags:JSON.parse(o),text:n}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:a,passcode:r,userConfirmPasscode:o})=>{let n={userId:t,featureMap:a,passcode:r,user_confirm_skip_passcode:o};void 0===o&&(n.user_confirm_skip_passcode=!1);let{resource_response:l}=await d.Z.create("AggregatedCommentFeaturesResource",n).callUpdate({showError:!1});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:l.data??Object.freeze({})}}})},updateCommentCount:(t,a)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:a,id:t}})}}),[e])}function C(){let{aggregatedComments:e}=f();return e}},60983:(e,t,a)=>{a.d(t,{G:()=>m,Kl:()=>g,vo:()=>u});var r=a(667294),o=a(498490),n=a(465848),l=a(576359),d=a(785893);let i=()=>a.e(27137).then(a.bind(a,527137)),{Provider:s,useHook:_}=(0,o.Z)("NativeEngagements");function u({children:e}){let[t,a]=(0,l.Z)(i,[]);(0,n.Z8)("NativeInteractionsResource",e=>{a({type:"FETCH_COMPLETE",payload:e})}),(0,n.my)("NativeInteractionsResource",e=>{a({type:"FETCH_MORE_COMPLETE",payload:e})});let o=(0,r.useMemo)(()=>({dispatch:a,nativeEngagements:t}),[a,t]);return(0,d.jsx)(s,{value:o,children:e})}function m(){let{dispatch:e}=_();return(0,r.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function g(){let{nativeEngagements:e}=_();return e}},55463:(e,t,a)=>{a.d(t,{f:()=>d,w:()=>i});var r=a(667294),o=a(498490),n=a(785893);let{Provider:l,useHook:d}=(0,o.Z)("Session");function i({children:e}){let[t,a]=(0,r.useState)(void 0),o=(0,r.useCallback)(()=>a(void 0),[]),d=(0,r.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:a,removeUnauthFollowUserId:o}),[t,o]);return(0,n.jsx)(l,{value:d,children:e})}},578406:(e,t,a)=>{a.d(t,{N4:()=>n,Wh:()=>r,hr:()=>o});let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),n=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47712-dad3f75639965fc3.mjs.map